# Топологические ограничения сети на неуправляемых коммутаторах

> Кратко: unmanaged-коммутатор — простой L2-switch с обучаемой таблицей MAC, без управления. Ограничения связаны с отсутствием STP, VLAN, QoS и малыми ресурсами.

### Ключевые свойства unmanaged-коммутатора

* Автоматическое обучение MAC и форвардинг по таблице.
* Нет CLI/GUI для настройки.
* Обычно нет STP, VLAN, IGMP-snooping, QoS, port-security.
* Ограниченный размер CAM/MAC-таблицы и буферов.

### Главные топологические ограничения и риски

* **Петли (loops) недопустимы.** Без STP любая топологическая петля вызывает broadcast-storm и полный отказ L2.
* **Единый broadcast-домен.** Все устройства в физической сети видят широковещательный трафик. Broadcast-буря затрагивает всю сеть.
* **Ограничение по длине канала.** Для медного Ethernet: максимум $$100\ \text{м}$$ между устройствами по стандарту.
* **Ограниченный размер MAC-таблицы.** При большом числе MAC или при атаке (MAC-flood) таблица переполняется → unknown-unicast flooding.
* **Отсутствие сегментации.** Нет VLAN → нельзя логически разделить трафик.
* **Мультикаст и broadcast флудинг.** Нет IGMP-snooping → multicast рассылается на все порты.
* **Нет QoS / приоритизации.** Голосовой/видео трафик не защищён от задержек.
* **Каскадирование (daisy-chain).** Технически возможно, но: увеличивается латентность, растёт вероятность single-point-of-failure, увеличивается нагрузка на uplink-порт и требуется больше записей в MAC-таблице.

### Практические правила проектирования

* Не создавать физических петель. Если нужна резервированность — использовать управляемые коммутаторы с STP.
* Централизовать сеть: звезда с одним агрегационным свичем лучше длинной цепочки.
* Избегать глубокого каскадирования. Рекомендация практики: не более 2–3 уровней каскада для unmanaged-устройств (это эмпирическое ограничение).
* Соблюдать ограничение длины кабеля $$\le 100\ \text{м}$$.
* Если ожидается много устройств или мультимедиа, выбирать управляемые коммутаторы с VLAN/IGMP/QoS.
* Контролировать нагрузку на uplink: один медленный uplink может стать бутылочным горлышком.

### Признаки проблем в топологии unmanaged-сети

* Внезапный резкий рост широковещательного трафика → broadcast-storm.
* Падение производительности при подключении ещё одного кабеля → возможная петля.
* Частые неизвестные MAC или постоянное флудинг-поведение → CAM overflow.
* Много multicast-пакетов, приходящих ко всем хостам → отсутствие IGMP-snooping.

### Короткие тезисы для экзамена

1. Unmanaged switch не защищает от петель.
2. Петы в L2 без STP вызывают broadcast-storm.
3. Максимальная длина медного сегмента Ethernet — $$100\ \text{м}$$.
4. Отсутствие VLAN/IGMP/QoS = единый broadcast-домен и флудинг.
5. Ограниченный CAM → возможен MAC-flood → потеря селективной коммутации.

### Вопросы для самопроверки

1. Почему петля на unmanaged-свитче критична?
2. Что произойдёт, если MAC-таблица переполнится?
3. Какое архитектурное изменение нужно для резервации без риска петлей?
