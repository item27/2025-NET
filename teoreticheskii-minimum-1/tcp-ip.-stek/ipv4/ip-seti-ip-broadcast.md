# IP – сети, IP- broadcast

Готово — тема: **IP-сети и IP-broadcast**.

## IP-сети и IP-broadcast

> Кратко: сеть — диапазон IP-адресов, определяемый префиксом. Broadcast — адрес для передачи всем устройствам в этой сети.

### Основные определения

* IP-сеть задаётся парой: $$\text{IP_адрес}/n$$, где $$n$$ — длина префикса (бит сети).
* Адрес сети вычисляется побитовым AND: $$\text{network} = \text{IP} \& \text{mask}.$$
* Broadcast сети вычисляется как: $$\text{broadcast}=\text{network}|(\sim\text{mask}\&\text{0xFFFFFFFF})$$

### Что такое broadcast

* IPv4-broadcast для сети — адрес, у которого все биты части узлов равны 1. Этот адрес доставляется всем устройствам в данной L2/L3 области.
* Специальный limited broadcast: $$255.255.255.255$$ — локальная широковещательная отправка, не маршрутизируется.

### Примеры вычислений (формулы + пример)

Пусть $$\text{IP}=192.168.10.130,; /26$$. Маска: $$/26 = 255.255.255.192$$. Вычисления:

$$
\text{network} \&= 192.168.10.130 \& 255.255.255.192 = 192.168.10.128
$$

$$
\text{broadcast} \&= 192.168.10.128;|;0.0.0.63 = 192.168.10.191.
$$

### Правила и особенности

* В сети с префиксом $$/n$$ количество адресов в блоке равно $$2^{32-n}$$. Адрес сети и адрес broadcast обычно не назначают устройствам.
* Исключения: `/31` (RFC3021) используется для p2p и допускает оба адреса для связи; `/32` — одиночный адрес.
* Broadcast не проходит через маршрутизатор между разными подсетями по умолчанию.

### Практика и команды

* Быстро вычислить: `ipcalc 192.168.10.130/26` или `sipcalc`.
* Linux: `ip addr show`, `ip route` для просмотра сетей и маршрутов.
* Проверка reachability внутри сети: `ping <broadcast>` (требует права и настройку OS для разрешения broadcast ping).

### Типичные ошибки

* Путать адрес сети с broadcast.
* Называть устройства broadcast-адресом при назначении IP.
* Ожидать, что broadcast пересекает маршрутизатор — он не пересекает.

### Экзаменационные тезисы

1. Network = IP AND mask.
2. Broadcast = network OR (\~mask).
3. В блоке `/n` всего $$2^{32-n}$$ адресов.
4. Broadcast ограничен границами сети и не маршрутизируется по умолчанию.

### Вопросы для самопроверки

1. Найдите network и broadcast для `172.16.5.200/29`.
2. Сколько адресов в `10.0.0.0/22` и какой у него broadcast?
3. Чем отличается limited broadcast `255.255.255.255` от directed broadcast сети?
